<!DOCTYPE html> 
<html>
<head>
    <title>TП: Руководство по стилю программирования на языке Java</title>
   <meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="stylem.css">
</head>
<body>
<p>Руководство по стилю программирования на языке Java</p><div class="box generalbox center clearfix"><div class="no-overflow"><p><span style="line-height: 1.4;">В любом программном проекте очень важно неукоснительно следовать четкому и ясному стилю написания программного обеспечения. Некоторые рекомендации по стилю программирования сконцентрированы на том , чтобы облегчить эксплуатацию вашей программы и уменьшить ее недостатки. Например, в стиль программирования, обычно входят указания на то, что следует комментировать в программе и как оформлять эти комментарии. Часто в стиле указываются шаблоны кода, которым которыми следует или не следует пользоваться при написании программ. Такого рода рекомендации очень важны для написания корректного и удобного в эксплуатации кода. Они, как правило, имеют разумные практические основания.</span></p>
<p>Кстати говоря, некоторые аспекты стиля программирования вызваны исключительно эстетическими соображениями, и не оказывают большого влияния на корректность программы. Однако эти рекомендации, упрощают эксплуатацию вашей программы, потому что весь код <i>выглядит одинаково.</i> Любому разработчику это сильно облегчает работу с кодом. Это как форматирование текстового документа: если во всем документе используются одни и те же правила форматирования, читать его гораздо легче, чем, если бы,  каждая его часть имела бы свой собственный формат!</p>
<p>Люди обычно подбирают себе "любимый" стиль программирования. (Точно так же как мы выбираем  любимый  текстовый редактор, потовый клиент, и т.д.) Это здорово, если у вас есть привилегия самому контролировать стандарты кодирования, но во многих случаях эти стандарты вам уже заданы. Тогда, важно <span style="text-decoration: underline;">проявить гибкость</span>.</p>
<p>На этих страницах изложены некоторые правила стиля программирования на языке Java. В общем и целом, эти правила сходны с теми, которые вы увидите в настоящих программных проектах Java, так что для вас это хорошая возможность попрактиковаться в это деле прямо сейчас. Вам настоятельно рекомендуется следовать этим правилам при выполнении лабораторных работ; иначе придется их переделывать!</p>
<p><b>Стиль программирования на языке </b><b>Java</b><b> </b><b>использующийся в этом курсе</b></p>
<p>Ниже представлены рекомендации по стилю программирования:</p>
<p><b>Отступы</b></p>
<p><b>Каждый уровень отступов должен содержать четыре пробела.</b> Например:</p>
<pre>    /**
     * Этот класс хранит значения для дальнейшей работы.
     **/
    class MyClass {
        /** Важное значение. **/
        private int value;

        /**
         * Создает объект, используя указанное значение.
         **/
        public MyClass(int v) {
            value = v;
        }
    }
</pre>
<p><b>Не используйте в отступах символы табуляции!</b> Настройте свой редактор так, чтобы он вставлял пробелы вместо знаков табуляции. Настройки редакторовмогут иметь разные значения табуляции, так что лучше не использовать символы табуляции. Особенно плохо неподходящая табуляция выглядит в таких редакторах, как  emacs, которые используют в отступах комбинации символов табуляции и пробелов.</p>
<p><b>Комментарии</b><b></b></p>
<p><b>Каждый класс,  интерфейс, метод, и поле класса <i>должны</i> иметь комментарий в стиле  </b><b>Javadoc</b><b>.</b> Такие комментарии это очень важный элемент проектирования. Комментарий не обязательно должен включать все тэги Javadoc, или быть чрезмерно подробным; он должен только описывать назначение объекта, и какие либо важные детали на которые следует обратить внимание. Например:</p>
<pre>    /**
     * Этот класс хранит значения для дальнейшей работы.
     **/
    class MyClass {
        /** Важное значение. **/
        private int value;

        /**
         * Создает объект, используя указанное значение.
         **/
        public MyClass(int v) {
            value = v;

        }
    }
</pre>
<p><b>Назначение имен</b></p>
<ul>
<li><b>Имена классов </b><b>Java</b><b> </b><b>должны соответствовать соглашению</b><b> </b><b>UpperCamelCase</b><b>. </b>(В именах, составленных из нескольких слов, каждое слово начинается с заглавной буквы)   </li>
<li><b>Имена методов, полей и локальных переменных </b><b>Java</b><b> </b><b>должны соответствовать соглашению  </b><b>camelCase</b><b> </b>(В именах, составленных из нескольких слов,  первое слово,  начинается со строчной буквы, а остальные с заглавной).</li>
<li><b>Константы </b><b>Java</b><b> (</b><b>static</b><b> </b><b>и </b><b>final</b><b>) должны соответствовать соглашению </b><b>ALL_CAPS</b><b>.</b> (Все буквы в имени заглавные. Часто слова разделяют нижним подчеркиванием.)</li>
</ul>
<p>Вот класс, иллюстрирующий правила назначения имен:</p>
<pre>    /** Имя класса UpperCamelCase. **/
    public class WebServer {

        /**
         * Имя константы по соглашению ALL_CAPS.
         **/
        public static final int DEFAULT_PORT = 80;

        /** версия HTTP, тоже константа. **/
        public static final String HTTP_VERSION = "HTTP/1.1";

        /**
         * Тип поля UpperCamelCase, так как имена всех стандартных классы Java
         * классов Java следует этому соглашению.
         * Имя поля camelCase.
         **/
        private ServerSocket sock;
 
        /**
         * Имя конструктора такое же как у класса.  Имена аргументов
         * назначены по соглашению camelCase.
         **/
        public WebServer(String hostName, int port) {
            ...
        }

        /** Имя метода по соглашению camelCase. **/
        public HTTPRequest acceptRequest() {
            ...
        }
 
        ...
    }
</pre>
<p><b>Пустые</b><b> </b><b>строки</b><b></b></p>
<p>Пустые строки существенно улучшают читаемость кода вашей программы. Программа без пустых строк выглядит как одно огромное предложение . Вот некоторые рекомендации по использованию пустых строк.</p>
<ul>
<li><b>Всегда вставляйте одну или две пустых строки между объявлениями полей.</b></li>
<li><b>Всегда вставляйте две пустых строки между объявлением метода и тем, что следует за ним.</b></li>
<li><b>В теле метода,  разделяйте "вычислительные блоки" или подзадачи пустой строкой.</b> В коротких методах не должно быть пустых строк, но если тело метода длиннее 6-8 строк, подумайте где нужно вставить пустые сроки чтобы код метода лучше читался.</li>
</ul>
<p><b>Пробелы</b></p>
<ul>
<li><b>Вставляйте пробел после ключевых слов </b><b>Java</b><b>, таких как </b><b>for</b><b>, </b><b>while</b><b>, </b><b>if</b><b>, </b><b>do</b><b>, и т.п.</b> Например:</li>
</ul>
<pre>    
    for (int i = 3; i &lt; 55; i++) {
        System.out.println("Вычисление площади " + i + " стороннего многоугольника");
        computeArea(i);
    }
</pre>
<ul>
<li><b>Вставляйте пробел перед и после бинарных операторов, таких как +, -, &amp;&amp;, ||, =, и т.п..</b> Например:</li>
</ul>
<pre> discriminant = b * b - 4 * a * c;
</pre>
<ul>
<li><b>Не добавляйте пробел перед точкой с запятой.</b> (См. выше)</li>
<li><b>Не вставляйте пробел перед запятой в списке аргументов метода. Вставьте пробел после нее.</b> Например:</li>
</ul>
<p>    processor.addJob(jobID, jobDesc, task, dueDate);</p>
<p><b>Условные операторы, циклы и блоки</b></p>
<ul>
<li><b>Открывающая фигурная скобка должна стоять на той же строчке что и оператор, которому принадлежит начинающийся блок.</b> Перед скобкой надо вставить пробел. <br /> Например:</li>
</ul>
<pre>     
    if (c.hasObject(o)) {
        System.out.println("Нашли!");
        c.remove(o);
        o.dispose();
    }
</pre>
<ul>
<li><b> Закрывающая фигурная скобка должна быть выровнена по вертикали с оператором, который начинает блок.</b> <br /> (См. пример выше.)</li>
<li><b>В условных операторах и циклах, тело которых состоит только из одного оператора, необязательно использовать фигурные скобки.</b> Конечно, можете их вставить, если вам этого <i>действительно</i> хочется, но это явно лишнее. Пример:</li>
</ul>
<pre>    for (int i = 0; i &lt; 30; i++) 
        fact *= i;
</pre>
<ul>
<li><b>В условных операторах и циклах, тело которых состоит только из одного оператора, поместите этот оператор на следующую строку.</b> <i>Не надо</i> писать его на той же строке!</li>
</ul>
<p><b>Плохо:</b></p>
<pre>    if (n &gt; 0) r = Math.sqrt(n);
</pre>
<p><b>Хорошо</b><b>:</b></p>
<pre>    if (n &gt; 0)
        r = Math.sqrt(n);
</pre>
<p><b>Проверка</b><b> </b><b>стиля</b><b> (Checkstyle)</b></p>
<p><a href="http://checkstyle.sourceforge.net/">Checkstyle</a>  это программа проверки стиля Java с открытым кодом. Эта мощная, настраиваемая, расширяемая, а также достаточно хорошо документированная  программа! <i>Многие</i> проекты на языке Java, в программной индустрии  и в открытом доступе используют Checkstyle для проверки исходного кода на соответствие стилю программирования.</p>
<p>Имейте ввиду, что хотя Checkstyle это весьма мощный инструмент, он не может учесть всего! Могут быть требования к стилю, которые текущая версия Checkstyle не в состоянии проверить. <b>Если </b><b>Checkstyle</b><b> </b><b>не сообщает о нарушении стиля, это еще  не означает, что в вашей программе со стилем все в порядке.</b></p>
<p><b>Установка и запуск </b><b>Checkstyle</b><b></b></p>
<p>Загрузите Checkstyle и распакуйте архив. Откройте в редакторе файл<span style="color: #333399;"> sun_checks.xml</span>, найдите и  закомментируйте строку:</p>
<pre>    &lt;module name="DoubleCheckedLocking"&gt;&gt;
</pre>
<p>Закомментированная строка выглядит так:</p>
<pre>    &lt;!--module name="DoubleCheckedLocking"/--&gt;
</pre>
<p>Сохраните и закройте файл. Теперь для того чтобы проверить стиль вашего java файла в командной строке, надо перейти в каталог где находится дистрибутив checkstyle и ввести команду:</p>
<pre>    java -jar checkstyle-5.6-all.jar -c sun_checks.xml -r c:\java\HelloWorldApp.java
</pre>
<p>В последнем аргументе командной строки вместо c:\java\HelloWorldApp.java надо указать путь и имя вашего проверяемого файла. Отчет вы увидите на экране. Версия checkstyle может отличаться от указанной в примере. В этом случае замените 5.6 на номер версии, которая установлена на вашем компьютере. Подробное описание работы с CheckStyle через командную строку можно посмотреть здесь: <a href="http://checkstyle.sourceforge.net/cmdline.html">http://checkstyle.sourceforge.net/cmdline.html</a></p>
<div align="center"><hr size="2" width="100%" align="center" /></div>
</div>
</div>
</body>
</html>